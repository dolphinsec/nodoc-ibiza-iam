components:
  schemas:
    PayloadContent:
      type: object
      properties:
        content:
          type: string
        reference:
          type: string
        preferReference:
          type: boolean
    SecurityDefaultsConfiguration:
      type: object
      properties:
        anyBaselinePolicyEnabled:
          type: boolean
        anyCAPolicyEnabled:
          type: boolean
        securityDefaultsEnabled:
          type: boolean
        ignoreBaselineProtectionPolicies:
          type: boolean
        anyClassicPolicyEnabled:
          type: boolean
        anyIPCEnabled:
          type: boolean
    DeletionRestriction:
      type: string
      enum:
        - UserCountExceeded
        - LinkedInApplicationProvisioned
        - ActiveApplicationObject
        - ActiveServicePrincipal
        - TenantHasCommerceSubscriptions
        - TenantHasActiveAzureSubscription
        - TenantHasViralSubscription
        - TenantHasDcaasConstraint
        - TenantHasMfaCustomer
        - VpnEnabled
    directoryProperties:
      type: object
      properties:
        objectId:
          $ref: common.yml#/components/schemas/tenantId
        displayName:
          type: string
          nullable: true
          description: The display name of the directory.
          example: Contoso
        usersCanRegisterApps:
          type: boolean
          description: Whether users can register applications with Entra.
          example: true
        isAnyAccessPanelPreviewFeaturesAvailable:
          type: boolean
        showMyGroupsFeature:
          type: boolean
        myGroupsFeatureValue:
          type: string
          nullable: true
        myGroupsGroupId:
          type: string
          nullable: true
        myGroupsGroupName:
          type: string
          nullable: true
        showMyAppsFeature:
          type: boolean
        myAppsFeatureValue:
          type: string
          nullable: true
        myAppsGroupId:
          type: string
          nullable: true
        myAppsGroupName:
          type: string
          nullable: true
        showUserActivityReportsFeature:
          type: boolean
        userActivityReportsFeatureValue:
          type: string
          nullable: true
        userActivityReportsGroupId:
          type: string
          nullable: true
        userActivityReportsGroupName:
          type: string
          nullable: true
        showRegisteredAuthMethodFeature:
          type: boolean
        registeredAuthMethodFeatureValue:
          type: string
          nullable: true
        registeredAuthMethodGroupId:
          type: string
          nullable: true
        registeredAuthMethodGroupName:
          type: string
          nullable: true
        usersCanAddExternalUsers:
          type: boolean
        limitedAccessCanAddExternalUsers:
          type: boolean
        restrictDirectoryAccess:
          type: boolean
        groupsInAccessPanelEnabled:
          type: boolean
        selfServiceGroupManagementEnabled:
          type: boolean
        securityGroupsEnabled:
          type: boolean
        usersCanManageSecurityGroups:
          type: string
          nullable: true
        office365GroupsEnabled:
          type: boolean
        usersCanManageOfficeGroups:
          type: string
          nullable: true
        allUsersGroupEnabled:
          type: boolean
        scopingGroupIdForManagingSecurityGroups:
          type: string
          nullable: true
          format: uuid
        scopingGroupIdForManagingOfficeGroups:
          type: string
          nullable: true
          format: uuid
        scopingGroupNameForManagingSecurityGroups:
          type: string
          nullable: true
        scopingGroupNameForManagingOfficeGroups:
          type: string
          nullable: true
        objectIdForAllUserGroup:
          type: string
          nullable: true
        allowInvitations:
          type: boolean
        isB2CTenant:
          type: boolean
          description: Whether the directory is an Azure AD B2C tenant.
          example: true
        restrictNonAdminUsers:
          type: boolean
          description: >-
            Whether to restrict non-admin users from accessing the Microsoft Entra admin center.
          example: true
        enableLinkedInAppFamily:
          type: integer
          format: int32
        toEnableLinkedInUsers:
          type: array
          nullable: true
          items:
            type: object
        toDisableLinkedInUsers:
          type: array
          nullable: true
          items:
            type: object
        linkedInSelectedGroupObjectId:
          type: string
          nullable: true
        linkedInSelectedGroupDisplayName:
          type: string
          nullable: true

paths:
  /Directories:
    post:
      tags: [Directory]
      responses:
        "200":
          description: OK

  /Directories/B2C:
    post:
      tags: [Directory]
      responses:
        "200":
          description: OK

  /Directories/ADConnectStatus:
    get:
      tags: [Directory]
      parameters:
        - $ref: common.yml#/components/parameters/XMsClientRequestId
      responses:
        "200":
          description: OK
          headers:
            Cache-Control:
              $ref: common.yml#/components/headers/Cache-Control
            Content-Encoding:
              $ref: common.yml#/components/headers/Content-Encoding
            Vary:
              $ref: common.yml#/components/headers/Vary
            X-Content-Type-Options:
              $ref: common.yml#/components/headers/X-Content-Type-Options
            X-XSS-Protection:
              $ref: common.yml#/components/headers/X-XSS-Protection
            x-ms-version:
              $ref: common.yml#/components/headers/x-ms-version
            Strict-Transport-Security:
              $ref: common.yml#/components/headers/Strict-Transport-Security
            Access-Control-Expose-Headers:
              $ref: common.yml#/components/headers/Access-Control-Expose-Headers
            x-ms-correlation-id:
              $ref: common.yml#/components/headers/x-ms-correlation-id
            x-ms-operation-maturity:
              $ref: common.yml#/components/headers/x-ms-operation-maturity
            x-ms-expected-duration:
              $ref: common.yml#/components/headers/x-ms-expected-duration
            X-UA-Compatible:
              $ref: common.yml#/components/headers/X-UA-Compatible
            Date:
              $ref: common.yml#/components/headers/Date
            Content-Length:
              $ref: common.yml#/components/headers/Content-Length
          content:
            application/json:
              schema:
                type: object
                properties:
                  verifiedDomainCount:
                    type: integer
                  verifiedCustomDomainCount:
                    type: integer
                  federatedDomainCount:
                    type: integer
                  numberOfHoursFromLastSync:
                    type: integer
                    nullable: true
                  dirSyncEnabled:
                    type: boolean
                  dirSyncConfigured:
                    type: boolean
                  passThroughAuthenticationEnabled:
                    type: boolean
                    nullable: true
                  seamlessSingleSignOnEnabled:
                    type: boolean
                    nullable: true

  /Directories/DeletionRestrictions:
    get:
      tags: [Directory]
      parameters:
        - $ref: common.yml#/components/parameters/XMsClientRequestId
      responses:
        "200":
          description: OK
          headers:
            Cache-Control:
              $ref: common.yml#/components/headers/Cache-Control
            Content-Encoding:
              $ref: common.yml#/components/headers/Content-Encoding
            Vary:
              $ref: common.yml#/components/headers/Vary
            X-Content-Type-Options:
              $ref: common.yml#/components/headers/X-Content-Type-Options
            X-XSS-Protection:
              $ref: common.yml#/components/headers/X-XSS-Protection
            x-ms-version:
              $ref: common.yml#/components/headers/x-ms-version
            Strict-Transport-Security:
              $ref: common.yml#/components/headers/Strict-Transport-Security
            Access-Control-Expose-Headers:
              $ref: common.yml#/components/headers/Access-Control-Expose-Headers
            x-ms-correlation-id:
              $ref: common.yml#/components/headers/x-ms-correlation-id
            x-ms-operation-maturity:
              $ref: common.yml#/components/headers/x-ms-operation-maturity
            x-ms-expected-duration:
              $ref: common.yml#/components/headers/x-ms-expected-duration
            X-UA-Compatible:
              $ref: common.yml#/components/headers/X-UA-Compatible
            Date:
              $ref: common.yml#/components/headers/Date
            Content-Length:
              $ref: common.yml#/components/headers/Content-Length
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/DeletionRestriction"

  /Directories/DomainAvailability:
    post:
      tags: [Directory]
      parameters:
        - $ref: common.yml#/components/parameters/XMsClientRequestId
      responses:
        "200":
          description: OK

  /Directories/GetSeamlessSingleSignOnDomains:
    get:
      tags: [Directory]
      parameters:
        - $ref: common.yml#/components/parameters/XMsClientRequestId
      responses:
        "200":
          description: OK
          headers:
            Cache-Control:
              $ref: common.yml#/components/headers/Cache-Control
            Content-Encoding:
              $ref: common.yml#/components/headers/Content-Encoding
            Vary:
              $ref: common.yml#/components/headers/Vary
            X-Content-Type-Options:
              $ref: common.yml#/components/headers/X-Content-Type-Options
            X-XSS-Protection:
              $ref: common.yml#/components/headers/X-XSS-Protection
            x-ms-version:
              $ref: common.yml#/components/headers/x-ms-version
            Strict-Transport-Security:
              $ref: common.yml#/components/headers/Strict-Transport-Security
            Access-Control-Expose-Headers:
              $ref: common.yml#/components/headers/Access-Control-Expose-Headers
            x-ms-correlation-id:
              $ref: common.yml#/components/headers/x-ms-correlation-id
            x-ms-operation-maturity:
              $ref: common.yml#/components/headers/x-ms-operation-maturity
            x-ms-expected-duration:
              $ref: common.yml#/components/headers/x-ms-expected-duration
            X-UA-Compatible:
              $ref: common.yml#/components/headers/X-UA-Compatible
            Date:
              $ref: common.yml#/components/headers/Date
            Content-Length:
              $ref: common.yml#/components/headers/Content-Length
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object

  /Directories/GetPasswordSyncStatus:
    get:
      tags: [Directory]
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: boolean
          headers:
            Cache-Control:
              $ref: common.yml#/components/headers/Cache-Control
            Content-Encoding:
              $ref: common.yml#/components/headers/Content-Encoding
            Vary:
              $ref: common.yml#/components/headers/Vary
            X-Content-Type-Options:
              $ref: common.yml#/components/headers/X-Content-Type-Options
            X-XSS-Protection:
              $ref: common.yml#/components/headers/X-XSS-Protection
            x-ms-version:
              $ref: common.yml#/components/headers/x-ms-version
            Strict-Transport-Security:
              $ref: common.yml#/components/headers/Strict-Transport-Security
            Access-Control-Expose-Headers:
              $ref: common.yml#/components/headers/Access-Control-Expose-Headers
            x-ms-correlation-id:
              $ref: common.yml#/components/headers/x-ms-correlation-id
            x-ms-operation-maturity:
              $ref: common.yml#/components/headers/x-ms-operation-maturity
            x-ms-expected-duration:
              $ref: common.yml#/components/headers/x-ms-expected-duration
            X-UA-Compatible:
              $ref: common.yml#/components/headers/X-UA-Compatible
            Date:
              $ref: common.yml#/components/headers/Date
            Content-Length:
              $ref: common.yml#/components/headers/Content-Length

  /Directories/List:
    parameters:
      - $ref: common.yml#/components/parameters/XMsClientRequestId
    post:
      tags: [Directory]
      responses:
        "200":
          description: OK

  /Directories/Properties:
    parameters:
      - $ref: common.yml#/components/parameters/XMsClientRequestId
    get:
      tags: [Directory]
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/directoryProperties"
          description: OK
          headers:
            Cache-Control:
              $ref: common.yml#/components/headers/Cache-Control
            Content-Encoding:
              $ref: common.yml#/components/headers/Content-Encoding
            Vary:
              $ref: common.yml#/components/headers/Vary
            X-Content-Type-Options:
              $ref: common.yml#/components/headers/X-Content-Type-Options
            X-XSS-Protection:
              $ref: common.yml#/components/headers/X-XSS-Protection
            x-ms-version:
              $ref: common.yml#/components/headers/x-ms-version
            Strict-Transport-Security:
              $ref: common.yml#/components/headers/Strict-Transport-Security
            Access-Control-Expose-Headers:
              $ref: common.yml#/components/headers/Access-Control-Expose-Headers
            x-ms-correlation-id:
              $ref: common.yml#/components/headers/x-ms-correlation-id
            x-ms-operation-maturity:
              $ref: common.yml#/components/headers/x-ms-operation-maturity
            x-ms-expected-duration:
              $ref: common.yml#/components/headers/x-ms-expected-duration
            X-UA-Compatible:
              $ref: common.yml#/components/headers/X-UA-Compatible
            Date:
              $ref: common.yml#/components/headers/Date
            Content-Length:
              $ref: common.yml#/components/headers/Content-Length

  /Directories/PropertiesV2:
    put:
      tags: [Directory]
      responses:
        "200":
          description: OK

  /Directories/RecommendedPayloads:
    parameters:
      - $ref: common.yml#/components/parameters/XMsClientRequestId
    get:
      tags: [Directory]
      responses:
        "200":
          description: OK
          headers:
            Cache-Control:
              $ref: common.yml#/components/headers/Cache-Control
            Content-Encoding:
              $ref: common.yml#/components/headers/Content-Encoding
            Vary:
              $ref: common.yml#/components/headers/Vary
            X-Content-Type-Options:
              $ref: common.yml#/components/headers/X-Content-Type-Options
            X-XSS-Protection:
              $ref: common.yml#/components/headers/X-XSS-Protection
            x-ms-version:
              $ref: common.yml#/components/headers/x-ms-version
            Strict-Transport-Security:
              $ref: common.yml#/components/headers/Strict-Transport-Security
            Access-Control-Expose-Headers:
              $ref: common.yml#/components/headers/Access-Control-Expose-Headers
            x-ms-correlation-id:
              $ref: common.yml#/components/headers/x-ms-correlation-id
            x-ms-operation-maturity:
              $ref: common.yml#/components/headers/x-ms-operation-maturity
            x-ms-expected-duration:
              $ref: common.yml#/components/headers/x-ms-expected-duration
            X-UA-Compatible:
              $ref: common.yml#/components/headers/X-UA-Compatible
            Date:
              $ref: common.yml#/components/headers/Date
            Content-Length:
              $ref: common.yml#/components/headers/Content-Length
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    priority:
                      type: string
                    feature:
                      type: string
                    name:
                      type: string
                      nullable: true
                    locale:
                      type: string
                    payloadContent:
                      type: object
                      properties:
                        title:
                          $ref: "#/components/schemas/PayloadContent"
                        description:
                          $ref: "#/components/schemas/PayloadContent"
                        link:
                          $ref: "#/components/schemas/PayloadContent"
                        linkTet:
                          $ref: "#/components/schemas/PayloadContent"
                        image:
                          $ref: "#/components/schemas/PayloadContent"

  /Directories/SsgmProperties:
    get:
      tags: [Directory]
      parameters:
        - $ref: common.yml#/components/parameters/XMsClientRequestId
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/directoryProperties"
          description: OK
          headers:
            Cache-Control:
              $ref: common.yml#/components/headers/Cache-Control
            Content-Encoding:
              $ref: common.yml#/components/headers/Content-Encoding
            Vary:
              $ref: common.yml#/components/headers/Vary
            X-Content-Type-Options:
              $ref: common.yml#/components/headers/X-Content-Type-Options
            X-XSS-Protection:
              $ref: common.yml#/components/headers/X-XSS-Protection
            x-ms-version:
              $ref: common.yml#/components/headers/x-ms-version
            Strict-Transport-Security:
              $ref: common.yml#/components/headers/Strict-Transport-Security
            Access-Control-Expose-Headers:
              $ref: common.yml#/components/headers/Access-Control-Expose-Headers
            x-ms-correlation-id:
              $ref: common.yml#/components/headers/x-ms-correlation-id
            x-ms-operation-maturity:
              $ref: common.yml#/components/headers/x-ms-operation-maturity
            x-ms-expected-duration:
              $ref: common.yml#/components/headers/x-ms-expected-duration
            X-UA-Compatible:
              $ref: common.yml#/components/headers/X-UA-Compatible
            Date:
              $ref: common.yml#/components/headers/Date
            Content-Length:
              $ref: common.yml#/components/headers/Content-Length

  /Directories/Summary:
    get:
      tags: [Directory]
      parameters:
        - $ref: common.yml#/components/parameters/XMsClientRequestId
      responses:
        "200":
          description: OK
          headers:
            Cache-Control:
              $ref: common.yml#/components/headers/Cache-Control
            Content-Encoding:
              $ref: common.yml#/components/headers/Content-Encoding
            Vary:
              $ref: common.yml#/components/headers/Vary
            X-Content-Type-Options:
              $ref: common.yml#/components/headers/X-Content-Type-Options
            X-XSS-Protection:
              $ref: common.yml#/components/headers/X-XSS-Protection
            x-ms-version:
              $ref: common.yml#/components/headers/x-ms-version
            Strict-Transport-Security:
              $ref: common.yml#/components/headers/Strict-Transport-Security
            Access-Control-Expose-Headers:
              $ref: common.yml#/components/headers/Access-Control-Expose-Headers
            x-ms-correlation-id:
              $ref: common.yml#/components/headers/x-ms-correlation-id
            x-ms-operation-maturity:
              $ref: common.yml#/components/headers/x-ms-operation-maturity
            x-ms-expected-duration:
              $ref: common.yml#/components/headers/x-ms-expected-duration
            X-UA-Compatible:
              $ref: common.yml#/components/headers/X-UA-Compatible
            Date:
              $ref: common.yml#/components/headers/Date
            Content-Length:
              $ref: common.yml#/components/headers/Content-Length
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    imageUrl:
                      type: string
                      format: uri
                    displayName:
                      type: string
                    objectId:
                      type: string
                      format: uuid
                    objectType:
                      type: string
                      enum: [User, Group, AppRole, Worker]
                    hasThumbnail:
                      type: boolean
                    isUser:
                      type: boolean
                    isGroup:
                      type: boolean
                    isGuest:
                      type: boolean

  /directoryObjects/{objectId}:
    parameters:
      - in: path
        name: objectId
        required: true
        schema:
          $ref: common.yml#/components/schemas/objectId
    get:
      tags: [Directory]
      responses:
        "200":
          description: OK

  /DirectoryObjectPicker/DirectoryMembersFromIds:
    get:
      tags: [Directory]
      responses:
        "200":
          description: OK

  /LoginTenantBrandings:
    get:
      tags: [Directory]
      responses:
        "200":
          description: OK

  /LoginTenantBrandings/0:
    get:
      tags: [Directory]
      responses:
        "200":
          description: OK

  /LoginTenantBrandings/BannerImage/{unknown}:
    parameters:
      - in: path
        name: unknown
        required: true
        schema:
          type: string
    get:
      tags: [Directory]
      responses:
        "200":
          description: OK

  /SecurityDefaults/Configuration:
    get:
      tags: [Directory]
      parameters:
        - $ref: common.yml#/components/parameters/XMsClientRequestId
      responses:
        "200":
          description: OK

  /SecurityDefaults/GetSecurityDefaultStatus:
    get:
      tags: [Directory]
      parameters:
        - $ref: common.yml#/components/parameters/XMsClientRequestId
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SecurityDefaultsConfiguration"

  /SecurityDefaults/UpdateSecurityDefaultOnSave:
    get:
      tags: [Directory]
      parameters:
        - in: query
          name: enableSecurityDefaults
          schema:
            type: boolean
      responses:
        "200":
          description: OK
