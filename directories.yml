components:
  schemas:
    PayloadContent:
      type: object
      properties:
        content:
          type: string
        reference:
          type: string
        preferReference:
          type: boolean
    SecurityDefaultsConfiguration:
      type: object
      properties:
        anyBaselinePolicyEnabled:
          type: boolean
        anyCAPolicyEnabled:
          type: boolean
        securityDefaultsEnabled:
          type: boolean
        ignoreBaselineProtectionPolicies:
          type: boolean
        anyClassicPolicyEnabled:
          type: boolean
        anyIPCEnabled:
          type: boolean
    DeletionRestriction:
      type: string
      enum:
      - UserCountExceeded
      - LinkedInApplicationProvisioned
      - ActiveApplicationObject
      - ActiveServicePrincipal
      - TenantHasCommerceSubscriptions
      - TenantHasActiveAzureSubscription
      - TenantHasViralSubscription
      - TenantHasDcaasConstraint
      - TenantHasMfaCustomer
      - VpnEnabled
    directoryProperties:
      type: object
      properties:
        objectId:
          $ref: common.yml#/components/schemas/tenantId
        displayName:
          type:
          - string
          - 'null'
          description: The display name of the directory.
          example: Contoso
        usersCanRegisterApps:
          type: boolean
          description: Whether users can register applications with Entra.
          example: true
        isAnyAccessPanelPreviewFeaturesAvailable:
          type: boolean
        showMyGroupsFeature:
          type: boolean
        myGroupsFeatureValue:
          type:
          - string
          - 'null'
        myGroupsGroupId:
          type:
          - string
          - 'null'
        myGroupsGroupName:
          type:
          - string
          - 'null'
        showMyAppsFeature:
          type: boolean
        myAppsFeatureValue:
          type:
          - string
          - 'null'
        myAppsGroupId:
          type:
          - string
          - 'null'
        myAppsGroupName:
          type:
          - string
          - 'null'
        showUserActivityReportsFeature:
          type: boolean
        userActivityReportsFeatureValue:
          type:
          - string
          - 'null'
        userActivityReportsGroupId:
          type:
          - string
          - 'null'
        userActivityReportsGroupName:
          type:
          - string
          - 'null'
        showRegisteredAuthMethodFeature:
          type: boolean
        registeredAuthMethodFeatureValue:
          type:
          - string
          - 'null'
        registeredAuthMethodGroupId:
          type:
          - string
          - 'null'
        registeredAuthMethodGroupName:
          type:
          - string
          - 'null'
        usersCanAddExternalUsers:
          type: boolean
        limitedAccessCanAddExternalUsers:
          type: boolean
        restrictDirectoryAccess:
          type: boolean
        groupsInAccessPanelEnabled:
          type: boolean
        selfServiceGroupManagementEnabled:
          type: boolean
        securityGroupsEnabled:
          type: boolean
        usersCanManageSecurityGroups:
          type:
          - string
          - 'null'
        office365GroupsEnabled:
          type: boolean
        usersCanManageOfficeGroups:
          type:
          - string
          - 'null'
        allUsersGroupEnabled:
          type: boolean
        scopingGroupIdForManagingSecurityGroups:
          type:
          - string
          - 'null'
          format: uuid
        scopingGroupIdForManagingOfficeGroups:
          type:
          - string
          - 'null'
          format: uuid
        scopingGroupNameForManagingSecurityGroups:
          type:
          - string
          - 'null'
        scopingGroupNameForManagingOfficeGroups:
          type:
          - string
          - 'null'
        objectIdForAllUserGroup:
          type:
          - string
          - 'null'
        allowInvitations:
          type: boolean
        isB2CTenant:
          type: boolean
          description: Whether the directory is an Azure AD B2C tenant.
          example: true
        restrictNonAdminUsers:
          type: boolean
          description: >-
            Whether to restrict non-admin users from accessing the Microsoft Entra admin center.
          example: true
        enableLinkedInAppFamily:
          type: integer
          format: int32
        toEnableLinkedInUsers:
          type:
          - array
          - 'null'
          items:
            type: object
        toDisableLinkedInUsers:
          type:
          - array
          - 'null'
          items:
            type: object
        linkedInSelectedGroupObjectId:
          type:
          - string
          - 'null'
        linkedInSelectedGroupDisplayName:
          type:
          - string
          - 'null'

paths:
  /Directories:
    post:
      tags: [Directory]
      responses:
        '200':
          description: OK

  /Directories/B2C:
    post:
      tags: [Directory]
      responses:
        '200':
          description: OK

  /Directories/ADConnectStatus:
    get:
      tags: [Directory]
      parameters:
      - $ref: common.yml#/components/parameters/XMsClientRequestId
      responses:
        '200':
          description: OK
          headers:
            Cache-Control:
              $ref: common.yml#/components/headers/Cache-Control
            Content-Encoding:
              $ref: common.yml#/components/headers/Content-Encoding
            Vary:
              $ref: common.yml#/components/headers/Vary
            X-Content-Type-Options:
              $ref: common.yml#/components/headers/X-Content-Type-Options
            X-XSS-Protection:
              $ref: common.yml#/components/headers/X-XSS-Protection
            x-ms-version:
              $ref: common.yml#/components/headers/x-ms-version
            Strict-Transport-Security:
              $ref: common.yml#/components/headers/Strict-Transport-Security
            Access-Control-Expose-Headers:
              $ref: common.yml#/components/headers/Access-Control-Expose-Headers
            x-ms-correlation-id:
              $ref: common.yml#/components/headers/x-ms-correlation-id
            x-ms-operation-maturity:
              $ref: common.yml#/components/headers/x-ms-operation-maturity
            x-ms-expected-duration:
              $ref: common.yml#/components/headers/x-ms-expected-duration
            X-UA-Compatible:
              $ref: common.yml#/components/headers/X-UA-Compatible
            Date:
              $ref: common.yml#/components/headers/Date
            Content-Length:
              $ref: common.yml#/components/headers/Content-Length
          content:
            application/json:
              schema:
                type: object
                properties:
                  verifiedDomainCount:
                    type: integer
                  verifiedCustomDomainCount:
                    type: integer
                  federatedDomainCount:
                    type: integer
                  numberOfHoursFromLastSync:
                    type:
                    - integer
                    - 'null'
                  dirSyncEnabled:
                    type: boolean
                  dirSyncConfigured:
                    type: boolean
                  passThroughAuthenticationEnabled:
                    type:
                    - boolean
                    - 'null'
                  seamlessSingleSignOnEnabled:
                    type:
                    - boolean
                    - 'null'

  /Directories/DeletionRestrictions:
    get:
      tags: [Directory]
      parameters:
      - $ref: common.yml#/components/parameters/XMsClientRequestId
      responses:
        '200':
          description: OK
          headers:
            Cache-Control:
              $ref: common.yml#/components/headers/Cache-Control
            Content-Encoding:
              $ref: common.yml#/components/headers/Content-Encoding
            Vary:
              $ref: common.yml#/components/headers/Vary
            X-Content-Type-Options:
              $ref: common.yml#/components/headers/X-Content-Type-Options
            X-XSS-Protection:
              $ref: common.yml#/components/headers/X-XSS-Protection
            x-ms-version:
              $ref: common.yml#/components/headers/x-ms-version
            Strict-Transport-Security:
              $ref: common.yml#/components/headers/Strict-Transport-Security
            Access-Control-Expose-Headers:
              $ref: common.yml#/components/headers/Access-Control-Expose-Headers
            x-ms-correlation-id:
              $ref: common.yml#/components/headers/x-ms-correlation-id
            x-ms-operation-maturity:
              $ref: common.yml#/components/headers/x-ms-operation-maturity
            x-ms-expected-duration:
              $ref: common.yml#/components/headers/x-ms-expected-duration
            X-UA-Compatible:
              $ref: common.yml#/components/headers/X-UA-Compatible
            Date:
              $ref: common.yml#/components/headers/Date
            Content-Length:
              $ref: common.yml#/components/headers/Content-Length
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/DeletionRestriction'

  /Directories/DomainAvailability:
    post:
      tags: [Directory]
      parameters:
      - $ref: common.yml#/components/parameters/XMsClientRequestId
      responses:
        '200':
          description: OK

  /Directories/GetSeamlessSingleSignOnDomains:
    get:
      tags: [Directory]
      parameters:
      - $ref: common.yml#/components/parameters/XMsClientRequestId
      responses:
        '200':
          description: OK
          headers:
            Cache-Control:
              $ref: common.yml#/components/headers/Cache-Control
            Content-Encoding:
              $ref: common.yml#/components/headers/Content-Encoding
            Vary:
              $ref: common.yml#/components/headers/Vary
            X-Content-Type-Options:
              $ref: common.yml#/components/headers/X-Content-Type-Options
            X-XSS-Protection:
              $ref: common.yml#/components/headers/X-XSS-Protection
            x-ms-version:
              $ref: common.yml#/components/headers/x-ms-version
            Strict-Transport-Security:
              $ref: common.yml#/components/headers/Strict-Transport-Security
            Access-Control-Expose-Headers:
              $ref: common.yml#/components/headers/Access-Control-Expose-Headers
            x-ms-correlation-id:
              $ref: common.yml#/components/headers/x-ms-correlation-id
            x-ms-operation-maturity:
              $ref: common.yml#/components/headers/x-ms-operation-maturity
            x-ms-expected-duration:
              $ref: common.yml#/components/headers/x-ms-expected-duration
            X-UA-Compatible:
              $ref: common.yml#/components/headers/X-UA-Compatible
            Date:
              $ref: common.yml#/components/headers/Date
            Content-Length:
              $ref: common.yml#/components/headers/Content-Length
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object

  /Directories/GetPasswordSyncStatus:
    get:
      tags: [Directory]
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: boolean
          headers:
            Cache-Control:
              $ref: common.yml#/components/headers/Cache-Control
            Content-Encoding:
              $ref: common.yml#/components/headers/Content-Encoding
            Vary:
              $ref: common.yml#/components/headers/Vary
            X-Content-Type-Options:
              $ref: common.yml#/components/headers/X-Content-Type-Options
            X-XSS-Protection:
              $ref: common.yml#/components/headers/X-XSS-Protection
            x-ms-version:
              $ref: common.yml#/components/headers/x-ms-version
            Strict-Transport-Security:
              $ref: common.yml#/components/headers/Strict-Transport-Security
            Access-Control-Expose-Headers:
              $ref: common.yml#/components/headers/Access-Control-Expose-Headers
            x-ms-correlation-id:
              $ref: common.yml#/components/headers/x-ms-correlation-id
            x-ms-operation-maturity:
              $ref: common.yml#/components/headers/x-ms-operation-maturity
            x-ms-expected-duration:
              $ref: common.yml#/components/headers/x-ms-expected-duration
            X-UA-Compatible:
              $ref: common.yml#/components/headers/X-UA-Compatible
            Date:
              $ref: common.yml#/components/headers/Date
            Content-Length:
              $ref: common.yml#/components/headers/Content-Length

  /Directories/List:
    parameters:
    - $ref: common.yml#/components/parameters/XMsClientRequestId
    post:
      tags: [Directory]
      responses:
        '200':
          description: OK

  /Directories/Properties:
    parameters:
    - $ref: common.yml#/components/parameters/XMsClientRequestId
    get:
      tags: [Directory]
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/directoryProperties'
          description: OK
          headers:
            Cache-Control:
              $ref: common.yml#/components/headers/Cache-Control
            Content-Encoding:
              $ref: common.yml#/components/headers/Content-Encoding
            Vary:
              $ref: common.yml#/components/headers/Vary
            X-Content-Type-Options:
              $ref: common.yml#/components/headers/X-Content-Type-Options
            X-XSS-Protection:
              $ref: common.yml#/components/headers/X-XSS-Protection
            x-ms-version:
              $ref: common.yml#/components/headers/x-ms-version
            Strict-Transport-Security:
              $ref: common.yml#/components/headers/Strict-Transport-Security
            Access-Control-Expose-Headers:
              $ref: common.yml#/components/headers/Access-Control-Expose-Headers
            x-ms-correlation-id:
              $ref: common.yml#/components/headers/x-ms-correlation-id
            x-ms-operation-maturity:
              $ref: common.yml#/components/headers/x-ms-operation-maturity
            x-ms-expected-duration:
              $ref: common.yml#/components/headers/x-ms-expected-duration
            X-UA-Compatible:
              $ref: common.yml#/components/headers/X-UA-Compatible
            Date:
              $ref: common.yml#/components/headers/Date
            Content-Length:
              $ref: common.yml#/components/headers/Content-Length

  /Directories/PropertiesV2:
    put:
      tags: [Directory]
      responses:
        '200':
          description: OK

  /Directories/RecommendedPayloads:
    parameters:
    - $ref: common.yml#/components/parameters/XMsClientRequestId
    get:
      tags: [Directory]
      responses:
        '200':
          description: OK
          headers:
            Cache-Control:
              $ref: common.yml#/components/headers/Cache-Control
            Content-Encoding:
              $ref: common.yml#/components/headers/Content-Encoding
            Vary:
              $ref: common.yml#/components/headers/Vary
            X-Content-Type-Options:
              $ref: common.yml#/components/headers/X-Content-Type-Options
            X-XSS-Protection:
              $ref: common.yml#/components/headers/X-XSS-Protection
            x-ms-version:
              $ref: common.yml#/components/headers/x-ms-version
            Strict-Transport-Security:
              $ref: common.yml#/components/headers/Strict-Transport-Security
            Access-Control-Expose-Headers:
              $ref: common.yml#/components/headers/Access-Control-Expose-Headers
            x-ms-correlation-id:
              $ref: common.yml#/components/headers/x-ms-correlation-id
            x-ms-operation-maturity:
              $ref: common.yml#/components/headers/x-ms-operation-maturity
            x-ms-expected-duration:
              $ref: common.yml#/components/headers/x-ms-expected-duration
            X-UA-Compatible:
              $ref: common.yml#/components/headers/X-UA-Compatible
            Date:
              $ref: common.yml#/components/headers/Date
            Content-Length:
              $ref: common.yml#/components/headers/Content-Length
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    priority:
                      type: string
                    feature:
                      type: string
                    name:
                      type:
                      - string
                      - 'null'
                    locale:
                      type: string
                    payloadContent:
                      type: object
                      properties:
                        title:
                          $ref: '#/components/schemas/PayloadContent'
                        description:
                          $ref: '#/components/schemas/PayloadContent'
                        link:
                          $ref: '#/components/schemas/PayloadContent'
                        linkTet:
                          $ref: '#/components/schemas/PayloadContent'
                        image:
                          $ref: '#/components/schemas/PayloadContent'

  /Directories/SsgmProperties:
    get:
      tags: [Directory]
      parameters:
      - $ref: common.yml#/components/parameters/XMsClientRequestId
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/directoryProperties'
          description: OK
          headers:
            Cache-Control:
              $ref: common.yml#/components/headers/Cache-Control
            Content-Encoding:
              $ref: common.yml#/components/headers/Content-Encoding
            Vary:
              $ref: common.yml#/components/headers/Vary
            X-Content-Type-Options:
              $ref: common.yml#/components/headers/X-Content-Type-Options
            X-XSS-Protection:
              $ref: common.yml#/components/headers/X-XSS-Protection
            x-ms-version:
              $ref: common.yml#/components/headers/x-ms-version
            Strict-Transport-Security:
              $ref: common.yml#/components/headers/Strict-Transport-Security
            Access-Control-Expose-Headers:
              $ref: common.yml#/components/headers/Access-Control-Expose-Headers
            x-ms-correlation-id:
              $ref: common.yml#/components/headers/x-ms-correlation-id
            x-ms-operation-maturity:
              $ref: common.yml#/components/headers/x-ms-operation-maturity
            x-ms-expected-duration:
              $ref: common.yml#/components/headers/x-ms-expected-duration
            X-UA-Compatible:
              $ref: common.yml#/components/headers/X-UA-Compatible
            Date:
              $ref: common.yml#/components/headers/Date
            Content-Length:
              $ref: common.yml#/components/headers/Content-Length

  /Directories/Summary:
    get:
      tags: [Directory]
      parameters:
      - $ref: common.yml#/components/parameters/XMsClientRequestId
      responses:
        '200':
          description: OK
          headers:
            Cache-Control:
              $ref: common.yml#/components/headers/Cache-Control
            Content-Encoding:
              $ref: common.yml#/components/headers/Content-Encoding
            Vary:
              $ref: common.yml#/components/headers/Vary
            X-Content-Type-Options:
              $ref: common.yml#/components/headers/X-Content-Type-Options
            X-XSS-Protection:
              $ref: common.yml#/components/headers/X-XSS-Protection
            x-ms-version:
              $ref: common.yml#/components/headers/x-ms-version
            Strict-Transport-Security:
              $ref: common.yml#/components/headers/Strict-Transport-Security
            Access-Control-Expose-Headers:
              $ref: common.yml#/components/headers/Access-Control-Expose-Headers
            x-ms-correlation-id:
              $ref: common.yml#/components/headers/x-ms-correlation-id
            x-ms-operation-maturity:
              $ref: common.yml#/components/headers/x-ms-operation-maturity
            x-ms-expected-duration:
              $ref: common.yml#/components/headers/x-ms-expected-duration
            X-UA-Compatible:
              $ref: common.yml#/components/headers/X-UA-Compatible
            Date:
              $ref: common.yml#/components/headers/Date
            Content-Length:
              $ref: common.yml#/components/headers/Content-Length
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    imageUrl:
                      type: string
                      format: uri
                    displayName:
                      type: string
                    objectId:
                      type: string
                      format: uuid
                    objectType:
                      type: string
                      enum: [User, Group, AppRole, Worker]
                    hasThumbnail:
                      type: boolean
                    isUser:
                      type: boolean
                    isGroup:
                      type: boolean
                    isGuest:
                      type: boolean

  /directoryObjects/{objectId}:
    parameters:
    - in: path
      name: objectId
      required: true
      schema:
        $ref: common.yml#/components/schemas/objectId
    get:
      tags: [Directory]
      responses:
        '200':
          description: OK

  /DirectoryObjectPicker/DirectoryMembersFromIds:
    get:
      tags: [Directory]
      responses:
        '200':
          description: OK

  /LoginTenantBrandings:
    get:
      tags: [Directory]
      responses:
        '200':
          description: OK

  /LoginTenantBrandings/0:
    get:
      tags: [Directory]
      responses:
        '200':
          description: OK

  /LoginTenantBrandings/BannerImage/{unknown}:
    parameters:
    - in: path
      name: unknown
      required: true
      schema:
        type: string
    get:
      tags: [Directory]
      responses:
        '200':
          description: OK

  /SecurityDefaults/Configuration:
    get:
      tags: [Directory]
      parameters:
      - $ref: common.yml#/components/parameters/XMsClientRequestId
      responses:
        '200':
          description: OK

  /SecurityDefaults/GetSecurityDefaultStatus:
    get:
      tags: [Directory]
      parameters:
      - $ref: common.yml#/components/parameters/XMsClientRequestId
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SecurityDefaultsConfiguration'

  /SecurityDefaults/UpdateSecurityDefaultOnSave:
    get:
      tags: [Directory]
      parameters:
      - in: query
        name: enableSecurityDefaults
        schema:
          type: boolean
      responses:
        '200':
          description: OK
